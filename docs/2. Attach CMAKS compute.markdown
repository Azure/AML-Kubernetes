## Attach CMAKS compute using SDK
To attach CMAKS compute you need install private branch SDK
### Install private branch SDK

```
pip install --disable-pip-version-check --extra-index-url https://azuremlsdktestpypi.azureedge.net/CmAks-Compute-Test/D58E86006C65 azureml-pipeline-steps azureml-contrib-pipeline-steps azureml_contrib_itp --upgrade
```
### Attach CMAKS compute via SDK

```python
from azureml.contrib.core.compute.cmakscompute import CmAksCompute
from azureml.core import Workspace
attach_config = CmAksCompute.attach_configuration(cluster_name =<cluster_name>
                                                    , resource_group =<resource group>
                                                    , node_pool=<node pool>
                                                 )

cmaks_target = CmAksCompute.attach(ws, <compute name>, attach_config)
```

## Attach compute from UI

1. Goto AML studio portal, compute > Attached compute, click "+New" button, and select "Kubernetes service"

![addcompute](/pics/2.1addcompute.png)

2. Select Kubernetes service from the list.

![cmask](/pics/2.2cmaks.png)

3. Input compute name and select AKS cluster in the top-right pop-up.

![akscluster](/pics/2.3akscluster.png)

4. Select the node pool used to attatched with AML compute target. In CMAKS, one CMAKS compute target should belongs to one AKS node pool, which means nodes have the same VM size. 

![aksnodepool](/pics/2.4aksnodepool.png)


After attach a CMAKS compute you can [Submit AML training jobs to CMAKS compute](https://github.com/Azure/CMK8s-Sample/blob/master/docs/5.%20View%20metrics%20in%20Compute%20level%20and%20runs%20level.markdown)






